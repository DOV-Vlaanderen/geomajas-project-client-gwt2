<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ This is part of Geomajas, a GIS framework, http://www.geomajas.org/.
  ~
  ~ Copyright 2008-2014 Geosparc nv, http://www.geosparc.com/, Belgium.
  ~
  ~ The program is available in open source according to the GNU Affero
  ~ General Public License. All contributions in this program are covered
  ~ by the Geomajas Contributors License Agreement. For full licensing
  ~ details, see LICENSE.txt in the project root.
  -->
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<chapter id="chapter-configuration">
  <title>Configuration</title>

  <para>In order to use the GWT client in your web application, there are a
  few steps you need to take. These include adding the correct libraries to
  your project, configuring the web.xml to set up the Geomajas Communication
  Service, and setting up the GWT module configuration.</para>

  <sect1>
    <title>Dependencies</title>

    <para>First things first. Before you can boot up a web application using
    Geomajas, you need to include the correct jar files. Using maven these
    would be:</para>

    <programlisting>&lt;dependency&gt;
    &lt;groupId&gt;org.geomajas&lt;/groupId&gt;
    &lt;artifactId&gt;geomajas-gwt-client-impl&lt;/artifactId&gt;
    &lt;version&gt;<?eval ${project.version}?>&lt;/version&gt;
&lt;/dependency&gt;</programlisting>
  </sect1>

  <sect1>
    <title>GWT Modules</title>

    <para>After the libraries have been added to your application, it's time
    to configure the correct GWT module. When writing applications in GWT, you
    need to precisely mark which packages or classes make up your client, so
    the compiler knows where to look. You may have noticed in the previous
    section that we also added the sources jar as a dependency. This is also
    necessary for the GWT compiler to compile the original Java classes to
    Javascript.</para>

    <para>How to set up a GWT application and declare an EntryPoint is beyond
    the scope of this document. You'll have to visit the GWT documentation
    site for more information. What you do need to know is the definition of
    the Geomajas GWT module definition.</para>

    <para>In your .gwt.xml file, add the following line to include the GWT
    client:</para>

    <programlisting>&lt;!-- Geomajas Client --&gt;
&lt;inherits name="org.geomajas.gwt.GeomajasClientImpl" /&gt;</programlisting>
  </sect1>

  <sect1>
    <title>web.xml</title>

    <para>This client expects the Geomajas server-side libraries to be present
    in the backend, along with a correctly configured map. Details on how to
    set up the Geomajas backend can be found in the backend documentation
    files.</para>
  </sect1>
</chapter>
